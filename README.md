# vk-dump

Сохранение информации с vk (сообщения, стена...) на локальный диск в txt и html.

## FIXME

1. Комментарии нужно получать блоками (сразу все не получишь)
2. Комментарии для каждого поста/фотографии стоит скачивать в отдельный yaml
3. Всё, что касается output, вообще не должно генерировать никаких запросов! Сейчас я получаю там комментарии к постам и прочее. Но всё следует хранить в отдельных файликах yaml в internal
4. Экспорт стены в txt обрезан (потому что обрабатываются комментарии)
5. Можно даже так: комментарии лежат в специальном файле internal/comments_asdasd_dasdasd.txt Во время генерации, скажем, wall.txt дёргаются output/comments_asdasd_dasdasd.txt. А лучше бы их как-то добавлять в очередь ещё при скачке internal/*yaml

## Возможность сохранять

1. Личные сообщения
    - разговоры один на один
    - конференции
    - сообщения со звёздочкой
        + отмечать в самом диалоге
        + выводить в отдельный файл
    - вложения
        + репосты
        + фотки
        + документы
        + аудиозаписи
    - пересылаемые сообщения
        + вложения внутри
        + пересылаемые сообщения внутри

2. Стена
    - твои посты
    - посты, отправленные тебе
    - комментарии
    - лайки

3. Аватарки
    - комментарии
    - лайки
        + количество
        + поимённо, кто

## Детали реализации

- Два типа вывода: HTML и TXT.
    + Комментарии к постам выводить в отдельных HTML-файлах, TXT-вариант будет без комментариев
    + Аттачмент
- Вывод в HTML: вложенные div
- Пагинация: и сверху, и снизу
- Шаблонизация:
    + хранить разные сущности (пост, сообщение) в разных файлах
    + рендерить их, задавая некоторый набор параметров
    + можно попробовать пользоваться liquid и для TXT
    + возможно, выйдет реализовать поддержку разных форматов на уровне выбора разных шаблонов для шаблонизатора

## Само сохранение

На всякий случай пересохранить диалоги через Kate Mobile (и посоветовать Наде тоже предварительно сохранить).