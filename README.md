# vk-dump

Сохранение информации с vk (сообщения, стена...) на локальный диск в txt и html.

## TODO / FIXME

1. Комментарии нужно получать блоками (сразу все не получишь)
2. Комментарии для каждого поста/фотографии стоит скачивать в отдельный yaml
3. Всё, что касается output, вообще не должно генерировать никаких запросов! Сейчас я получаю там комментарии к постам и прочее. Но всё следует хранить в отдельных файликах yaml в internal
4. Можно даже так: комментарии лежат в специальном файле internal/comments_asdasd_dasdasd.txt Во время генерации, скажем, wall.txt дёргаются output/comments_asdasd_dasdasd.txt. А лучше бы их как-то добавлять в очередь ещё при скачке internal/*yaml
5. Аккуратно escap-ить тело сообщений/постов в корректный markdown

## Возможность сохранять

1. Личные сообщения
    - разговоры один на один (без конференций)
    - вложения
        + репосты
        + фотки
        + документы
        + аудиозаписи
    - пересылаемые сообщения
        + вложения внутри
        + пересылаемые сообщения внутри

2. Стена
    - твои посты
    - посты, отправленные тебе
    - комментарии
    - лайки

3. Аватарки
    - комментарии
    - лайки
        + количество
        + поимённо, кто

## Детали реализации

- Пагинация: и сверху, и снизу
- Возможно: выводить таблицей в markdown посты и другие сущности
- Шаблонизация:
    + хранить разные сущности (пост, сообщение) в разных файлах
    + рендерить их, задавая некоторый набор параметров
    + можно попробовать пользоваться liquid и для TXT
    + возможно, выйдет реализовать поддержку разных форматов на уровне выбора разных шаблонов для шаблонизатора
- Комменты к аватаркам получаются не все, а только первые 100 (ну или сколько там укажешь в конфигурационном файле, но не более сотни. и, если честно, этого хватит)

## Само сохранение

На всякий случай пересохранить диалоги через Kate Mobile (и посоветовать Наде тоже предварительно сохранить).